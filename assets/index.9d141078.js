const f=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}};f();const m=document.querySelector(".todo-list"),i=(t="")=>{let e=d();h(e),p();const n=e.filter(o=>!o.completed).length;v(n),t!==""&&(e=e.filter(o=>o.completed===t)),m.innerHTML="",(e==null?void 0:e.length)>0&&e.map(o=>{const l=o.completed,s=document.createElement("li");s.classList.add(l?"completed":"uncompleted"),s.setAttribute("data-id",o.id),s.innerHTML=`<div class="view">
                                    <input name="todos" class="toggle" type="checkbox" ${l?"checked":""}>
                                    <label for="todos" class="description">${o.body}</label>
                                    <button" class="destroy"></button>
                                </div>
                                <input class="edit" value="${o.body}">`,m.appendChild(s),T(s,o),S(s,o),L(s,o)})},p=()=>{const t=document==null?void 0:document.querySelector(".footer"),e=d();(e==null?void 0:e.length)===0?t.style.display="none":t.style.display="block"},h=t=>{const e=document.querySelector(".toggle-all"),n=document.querySelector("label[for='toggle-all']");t.length<=0?(e.style.display="none",n.style.display="none"):(e.style.display="initial",n.style.display="initial")},a=()=>{const t=document.querySelector(".clear-completed");d().filter(o=>o.completed).length>=1?t.textContent="Clear completed":t.textContent=""},v=t=>{const e=document.querySelector(".todo-count");e.innerHTML=t!==1?`<strong>${t}</strong> items left`:`<strong>${t}</strong> item left`},L=(t,e)=>{t.querySelector(`[data-id="${e.id}"] .destroy`).addEventListener("click",()=>{b(e.id)})},S=(t,e)=>{const n=t.querySelector(`[data-id="${e.id}"] .toggle`),o=document.querySelector(`[data-id="${e.id}"]`);n.addEventListener("click",()=>{o.classList.toggle("completed");const l={id:e.id,body:e.body,completed:!e.completed};g(e.id,l)})},T=(t,e)=>{t.querySelector(`[data-id="${e.id}"] label`).addEventListener("dblclick",o=>{const l=t.querySelector(`[data-id="${e.id}"] input.edit`);t.classList.add("editing"),l.focus(),l.addEventListener("focusout",s=>{t.classList.remove("editing"),l.removeEventListener("keyup",c=>{})}),l.addEventListener("keyup",s=>{if(s.key==="Enter"){const c={id:e.id,body:l.value,completed:e.completed};g(e.id,c)}})})},d=()=>localStorage.getItem("todos")?JSON.parse(localStorage==null?void 0:localStorage.getItem("todos")):[],y=(t=[])=>{localStorage.setItem("todos",JSON.stringify(t)),r()},b=t=>{const n=d().filter(o=>o.id!==t);localStorage.setItem("todos",JSON.stringify(n)),i()},E=()=>{const e=d().filter(n=>!n.completed);localStorage.setItem("todos",JSON.stringify(e)),r()},g=(t,e)=>{const o=d().map(l=>l.id===t?e:l);localStorage.setItem("todos",JSON.stringify(o)),r()},u=document.querySelector(".new-todo"),I=document.querySelector(".clear-completed"),r=()=>{const t=window.location.href.split("/").at(-1);t.includes("active")?(i(!1),a(),document.getElementById("active").classList.add("selected"),document.getElementById("completed").classList.remove("selected"),document.getElementById("all").classList.remove("selected")):t.includes("completed")?(i(!0),a(),document.getElementById("completed").classList.add("selected"),document.getElementById("active").classList.remove("selected"),document.getElementById("all").classList.remove("selected")):(i(),a(),document.getElementById("all").classList.add("selected"),document.getElementById("completed").classList.remove("selected"),document.getElementById("active").classList.remove("selected"))};window.onload=()=>{r(),window.addEventListener("hashchange",r)};document.querySelector(".toggle-all").addEventListener("click",()=>{const t=d(),e=t.filter(o=>o.completed);let n;t.length===e.length?(p(),n=t.map(o=>({id:o.id,body:o.body,completed:!o.completed}))):n=t.map(o=>({id:o.id,body:o.body,completed:!0})),y(n)});I.addEventListener("click",()=>{E()});u.addEventListener("keyup",t=>{if(t.key==="Enter"){const e=d(),n={id:Math.random().toString(8).substring(2),body:u.value,completed:!1},o=[...e,n];u.value.trim()!==""?y(o):alert("Please enter a valid todo"),t.currentTarget.value=""}});
